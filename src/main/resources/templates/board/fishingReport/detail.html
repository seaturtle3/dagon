<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="fragments/common-head :: head">
    <meta charset="UTF-8">
    <title>조황센터</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div th:replace="fragments/header :: header"></div>

<div class="table-responsive">
    <table class="table table-bordered text-center align-middle">
        <thead class="table-light">
        <tr>
            <th>조황 ID</th>
            <th>썸네일</th>
            <th style="width: 40%;">제목</th>
            <th>조회수</th>
            <th>배 이름</th>
            <th>작성자</th>
            <th style="width: 20%;">생성일</th>
            <th>내용</th>
            <th>댓글</th>
        </tr>
        </thead>

        <tbody>
        <tr th:if="${report != null}">
            <td th:text="${report.frId}"></td>
            <td>
                <img th:if="${report.thumbnailUrl != null}"
                     th:src="${report.thumbnailUrl}"
                     alt="썸네일" class="img-thumbnail" style="width: 100px;">
            </td>
            <td th:text="${report.title}">제목</td>
            <td th:text="${report.views}">조회수</td>
            <td th:text="${report.prodName}">배 이름</td>
            <td th:text="${report.userName}">작성자</td>
            <td>
        <span th:if="${report.fishingAt != null}"
              th:text="${#temporals.format(report.fishingAt, 'yyyy-MM-dd')}"></span>
                <span th:unless="${report.fishingAt != null}">-</span>
            </td>
            <td th:text="${report.content}">내용</td>
            <td>
                <ul class="list-unstyled mb-0" th:if="${report.comments != null}">
                    <li th:each="comment : ${report.comments}"
                        th:text="${comment.commentContent}">댓글</li>
                </ul>
            </td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>